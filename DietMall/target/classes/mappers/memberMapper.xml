<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">

	<!-- 회원가입 -->
	<insert id="join">
		INSERT INTO MP_MEMBER(
		USERID
		, KAKAOID
		, USERPASS
		, USERNAME
		, USERBIRTHYY
		, USERBIRTHMM
		, USERBIRTHDD
		, USERGENDER
		, USEREMAIL
		, USERTELL )
		VALUES(
		#{userId}
		, #{kakaoId}
		, #{userPass}
		, #{userName}
		, #{userBirthyy}
		, #{userBirthmm}
		, #{userBirthdd}
		, #{userGender}
		, #{userEmail}
		, #{userTell}
		)

	</insert>

	<!-- 로그인 일반 -->
	<select id="login" resultType="com.dietmall.vo.MemberVO">
		SELECT USERID
		, KAKAOID
		, USERPASS
		, USERNAME
		, USERBIRTHYY
		, USERBIRTHMM
		, USERBIRTHDD
		, USERGENDER
		, USEREMAIL
		, USERTELL
		FROM MP_MEMBER
		WHERE USERID = #{userId}
	</select>

	<!-- 패스워드 체크 -->
	<select id="passChk" resultType="int">
		SELECT COUNT(*) FROM MP_MEMBER
		WHERE USERID = #{userId}
		AND USERPASS = #{userPass}
	</select>

	<!-- 아이디 중복 체크 -->
	<select id="idChk" resultType="int">
		SELECT COUNT(*) FROM MP_MEMBER
		WHERE USERID = #{userId}
	</select>
	
	<!-- 아이디 중복 체크 - 카카오 -->
	<select id="idChkKakao" resultType="int">
		SELECT COUNT(*) FROM MP_MEMBER
		WHERE KAKAOID = #{kakaoId}
	</select>
	
</mapper>